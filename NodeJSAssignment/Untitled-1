var firstwindow = driver.getWindowHandle();

driver.getAllWindowHandles().then(function gotWindowHandles(allHandles){

    
    driver.getTitle().then(function (text) {
    {
    console.log("Parent Window"+ text);
    }
    }); 
    
    driver.switchTo().window(allHandles[allHandles.length-1]);
    

    driver.getTitle().then(function(text){
        {
        console.log("Child window"+text);
        }
        });
    driver.wait(until.urlIs('http://demo.guru99.com/articles_popup.php'), 1000)
    .then(function (){
    driver.findElement(By.name("emailid")).sendKeys("support@bstack.com");
    driver.findElement(By.name('btnLogin')).click();
    });
    //var result = driver.findElement({id : 'result'}).getText();
    
    });